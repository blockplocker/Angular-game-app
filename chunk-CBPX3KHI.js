import{a as J,c as K,d as Q,f as U,h as X,i as Y,r as Z}from"./chunk-K3AN35LB.js";import{d as z}from"./chunk-KOPJTHIW.js";import{Ba as f,Da as P,Db as O,Ea as A,Fb as q,Lb as G,M as E,Nb as R,Ob as u,R as m,Sa as L,Ta as j,W as N,Wa as x,X as k,Xa as W,Ya as p,Za as n,_a as d,a as M,b as S,da as v,eb as V,gb as c,ib as H,ja as F,rb as a,sb as B,ta as l,vb as C,w as D,wb as b,xb as w,zb as I}from"./chunk-YHEZIFCV.js";var T=class i{http=m(z);getTodosFromApi(){return this.http.get("https://jsonplaceholder.typicode.com/todos")}static \u0275fac=function(e){return new(e||i)};static \u0275prov=E({token:i,factory:i.\u0275fac,providedIn:"root"})};var h=class i{isCompleted=u(!1);el=m(F);stylesEffect=G(()=>{this.isCompleted()?this.el.nativeElement.classList.add("completed"):this.el.nativeElement.classList.remove("completed")});static \u0275fac=function(e){return new(e||i)};static \u0275dir=P({type:i,selectors:[["","appHighlightCompletedTodo",""]],inputs:{isCompleted:[1,"isCompleted"]}})};var y=class i{todo=u.required();todotoggled=R();todoclicked(){this.todotoggled.emit(this.todo())}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=f({type:i,selectors:[["app-todo-item"]],inputs:{todo:[1,"todo"]},outputs:{todotoggled:"todotoggled"},decls:4,vars:7,consts:[["appHighlightCompletedTodo","",1,"d-flex","align-items-center","gap-2","py-2",3,"isCompleted"],["type","checkbox",1,"form-check-input","ms-3",3,"change","id","checked"],[1,"form-check-label","mb-0","flex-grow-1",3,"for"]],template:function(e,o){e&1&&(n(0,"div",0)(1,"input",1),c("change",function(){return o.todoclicked()}),d(),n(2,"label",2),a(3),d()()),e&2&&(p("isCompleted",o.todo().completed),l(),p("id",I("todo-",o.todo().id))("checked",o.todo().completed),l(),p("for",I("todo-",o.todo().id)),l(),B(o.todo().title))},dependencies:[h],encapsulation:2})};var _=class i{transform(t,e){return e?t.filter(o=>o.title.toLowerCase().includes(e.toLowerCase())):t}static \u0275fac=function(e){return new(e||i)};static \u0275pipe=A({name:"filterTodos",type:i,pure:!0})};var te=(i,t)=>t.id;function oe(i,t){i&1&&(n(0,"div",6),a(1,"Loading..."),d())}function ie(i,t){if(i&1){let e=V();n(0,"li",17)(1,"app-todo-item",18),c("todotoggled",function(s){N(e);let r=H();return k(r.updateTodoItem(s))}),d()()}if(i&2){let e=t.$implicit;l(),p("todo",e)}}var $=class i{todoservice=m(T);todoitems=v([]);searchTerm=v("");newTodoTitle="";ngOnInit(){this.todoservice.getTodosFromApi().pipe(D(t=>{throw console.error(t),t})).subscribe(t=>{this.todoitems.set(t)})}addTodoItem(){if(this.newTodoTitle.trim()){let t={id:Date.now(),userId:1,title:this.newTodoTitle,completed:!1};this.todoitems.update(e=>[t,...e]),this.newTodoTitle=""}}clearCompleted(){this.todoitems.update(t=>t.filter(e=>!e.completed))}updateTodoItem(t){this.todoitems.update(e=>e.map(o=>o.id===t.id?S(M({},o),{completed:!o.completed}):o))}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=f({type:i,selectors:[["app-todos"]],decls:24,vars:6,consts:[[1,"container","py-4"],[1,"row","justify-content-center"],[1,"col-lg-8"],[1,"card","shadow","mb-4"],[1,"card-body"],[1,"card-title","mb-4"],[1,"alert","alert-info","text-center"],[1,"row","mb-3"],[1,"col-12"],["name","searchTerm","type","text","placeholder","Search todos...",1,"form-control",3,"ngModelChange","ngModel"],[1,"row","g-2","mb-3",3,"submit"],[1,"col-md-6"],["type","text","placeholder","Add New Todo",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-3","d-grid"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-warning",3,"click"],[1,"list-group"],[1,"list-group-item","p-0"],[3,"todotoggled","todo"]],template:function(e,o){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),a(6,"Todo List from API"),d(),L(7,oe,2,0,"div",6),n(8,"div",7)(9,"div",8)(10,"input",9),w("ngModelChange",function(r){return b(o.searchTerm,r)||(o.searchTerm=r),r}),d()(),n(11,"form",10),c("submit",function(r){return r.preventDefault(),o.addTodoItem()}),n(12,"div",11)(13,"input",12),w("ngModelChange",function(r){return b(o.newTodoTitle,r)||(o.newTodoTitle=r),r}),d()(),n(14,"div",13)(15,"button",14),a(16,"Add Todo"),d()(),n(17,"div",13)(18,"button",15),c("click",function(){return o.clearCompleted()}),a(19,"Clear Completed"),d()()()(),n(20,"ul",16),x(21,ie,2,1,"li",17,te),O(23,"filterTodos"),d()()()()()()),e&2&&(l(7),j(o.todoitems().length?-1:7),l(3),C("ngModel",o.searchTerm),l(3),C("ngModel",o.newTodoTitle),l(8),W(q(23,3,o.todoitems(),o.searchTerm())))},dependencies:[y,Z,Y,J,K,Q,X,U,_],encapsulation:2})};export{$ as Todos};
