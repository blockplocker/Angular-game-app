import{a as d}from"./chunk-JOFTXCSD.js";import{a as O,c as k,h as S,r as N}from"./chunk-K3AN35LB.js";import{d as I}from"./chunk-KOPJTHIW.js";import{$a as M,Ba as C,M as b,R as p,Sa as f,Ta as x,Ya as y,Za as a,_a as t,gb as h,ib as w,qa as _,rb as n,sb as v,ta as r,tb as s,ub as g,vb as D,wb as E,xb as P,zb as W}from"./chunk-YHEZIFCV.js";var u=class o{http=p(I);getWeatherByCoordinates(i,e){let m=`${d.weatherApiUrl}?lat=${i}&lon=${e}&units=metric&lang=en&appid=${d.weatherApiKey}`;return this.http.get(m)}getWeather(i){return this.http.get(`${d.weatherApiUrl}`,{params:{q:i,appid:d.weatherApiKey,units:"metric",lang:"en"}})}static \u0275fac=function(e){return new(e||o)};static \u0275prov=b({token:o,factory:o.\u0275fac,providedIn:"root"})};function B(o,i){if(o&1&&(a(0,"div",2),n(1),t()),o&2){let e=w();r(),v(e.errorMessage)}}function A(o,i){if(o&1&&(a(0,"div",4)(1,"h2"),n(2),t(),M(3,"img",5),a(4,"p")(5,"strong"),n(6,"Temperature:"),t(),n(7),t(),a(8,"p")(9,"strong"),n(10,"Min:"),t(),n(11),a(12,"strong"),n(13,"Max:"),t(),n(14),t(),a(15,"p")(16,"strong"),n(17,"Humidity:"),t(),n(18),t(),a(19,"p")(20,"strong"),n(21,"Wind:"),t(),n(22),t(),a(23,"p")(24,"strong"),n(25,"Clouds:"),t(),n(26),t(),a(27,"p")(28,"strong"),n(29,"Conditions:"),t(),n(30),t()()),o&2){let e=w();r(2),g("Weather in ",e.weatherData.name,", ",e.weatherData.sys.country),r(),y("src",W("https://openweathermap.org/img/wn/",e.weatherData.weather[0].icon,"@2x.png"),_),r(4),g(" ",e.weatherData.main.temp,"\xB0C (feels like ",e.weatherData.main.feels_like,"\xB0C)"),r(4),s(" ",e.weatherData.main.temp_min,"\xB0C "),r(3),s(" ",e.weatherData.main.temp_max,"\xB0C"),r(4),s(" ",e.weatherData.main.humidity,"%"),r(4),s(" ",e.weatherData.wind.speed," m/s"),r(4),s(" ",e.weatherData.clouds.all,"%"),r(4),g(" ",e.weatherData.weather[0].main," - ",e.weatherData.weather[0].description)}}var T=class o{weatherService=p(u);cityName="";errorMessage="";weatherData=null;getweather(){this.cityName.trim().length>0?this.weatherService.getWeather(this.cityName.trim()).subscribe({next:i=>{this.weatherData=i},error:i=>{this.errorMessage="Error fetching weather data.",this.weatherData=null}}):this.errorMessage="Please enter a city name."}getcurrentlocation(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(i=>{let{latitude:e,longitude:l}=i.coords;this.weatherService.getWeatherByCoordinates(e,l).subscribe({next:c=>{this.weatherData=c},error:c=>{this.errorMessage="Error fetching weather data.",this.weatherData=null}})})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=C({type:o,selectors:[["app-weather"]],decls:8,vars:3,consts:[[1,"search-container"],["type","text","placeholder","Enter city name",3,"ngModelChange","keyup.enter","ngModel"],[1,"error-message"],[3,"click"],[1,"weather-info"],["alt","Weather icon",3,"src"]],template:function(e,l){e&1&&(a(0,"div",0)(1,"input",1),P("ngModelChange",function(m){return E(l.cityName,m)||(l.cityName=m),m}),h("keyup.enter",function(){return l.getweather()}),t(),f(2,B,2,1,"div",2),a(3,"button",3),h("click",function(){return l.getweather()}),n(4,"search by city"),t(),a(5,"button",3),h("click",function(){return l.getcurrentlocation()}),n(6,"My Weather"),t()(),f(7,A,31,13,"div",4)),e&2&&(r(),D("ngModel",l.cityName),r(),x(l.errorMessage.length>0?2:-1),r(5),x(l.weatherData?7:-1))},dependencies:[N,O,k,S],styles:[".search-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem;margin:2rem auto;max-width:400px;background:#222b3a;border-radius:12px;box-shadow:0 4px 16px #2196f314;padding:2rem 1.5rem}input[type=text][_ngcontent-%COMP%]{padding:.7rem 1rem;border:1px solid #2196f3;border-radius:6px;font-size:1rem;width:100%;box-sizing:border-box;background:#232e41;color:#e3eafc;transition:border-color .2s,background .2s}input[type=text][_ngcontent-%COMP%]::placeholder{color:#b0b8c1}input[type=text][_ngcontent-%COMP%]:focus{border-color:#51adf6;outline:none}button[_ngcontent-%COMP%]{padding:.7rem 1.2rem;background:linear-gradient(90deg,#2196f3 60%,#0078d7);color:#fff;border:none;border-radius:6px;font-size:1rem;cursor:pointer;box-shadow:0 2px 8px #2196f31f;transition:background .2s,transform .2s;margin-right:.5rem}button[_ngcontent-%COMP%]:last-child{margin-right:0}button[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,#1565c0 60%,#005fa3);transform:translateY(-2px)}.error-message[_ngcontent-%COMP%]{color:#ff6b6b;background:#2a2323;border:1px solid #ff6b6b;border-radius:6px;padding:.5rem 1rem;margin-top:.5rem;font-size:.95rem;text-align:center}.weather-info[_ngcontent-%COMP%]{background:#222b3a;border-radius:12px;box-shadow:0 4px 16px #2196f31f;padding:2rem 1.5rem;margin:2rem auto;max-width:400px;text-align:center;position:relative;color:#e3eafc}.weather-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1rem;color:#2196f3;font-size:1.3rem}.weather-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px;margin-bottom:1rem;filter:drop-shadow(0 2px 8px #2196f3)}.weather-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0;font-size:1rem;color:#e3eafc}.weather-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#2196f3}"]})};export{T as Weather};
