import{$a as r,Aa as w,Qa as f,Ra as _,Sa as g,Ua as p,V as M,Va as C,W as x,_a as o,ab as E,cb as u,db as s,ib as y,jb as c,kb as v,rb as O,sa as d}from"./chunk-6VOJG6RP.js";function k(i,t){i&1&&(o(0,"h3"),c(1,"Game Over!"),r())}function B(i,t){i&1&&(o(0,"h3"),c(1,"Congratulations! You Won!"),r())}function S(i,t){if(i&1&&(o(0,"span"),c(1),r()),i&2){let e=s().$index,n=s().$index,a=s();y(O("revealed content-",a.Board[n][e])),d(),v(a.Board[n][e])}}function T(i,t){if(i&1){let e=E();o(0,"button",8),u("click",function(){M(e);let a=s().$index,h=s().$index,l=s();return x(l.revealCell(h,a))}),r()}}function $(i,t){if(i&1&&(o(0,"div",11),f(1,S,2,4,"span",12)(2,T,1,0,"button"),r()),i&2){let e=t.$index,n=s().$index,a=s();d(),_(a.revealed[n][e]?1:2)}}function F(i,t){if(i&1&&(o(0,"div",10),p(1,$,3,1,"div",11,g),r()),i&2){let e=t.$implicit;d(),C(e)}}var P=class i{Board=[];rows=10;columns=10;minesCount=10;revealed=[];gameOver=!1;gameWon=!1;flagsLeft=this.minesCount;constructor(){this.setDifficulty("easy")}startNewGame(){this.gameOver=!1,this.gameWon=!1,this.flagsLeft=this.minesCount,this.Board=Array.from({length:this.rows},()=>Array(this.columns).fill("")),this.revealed=Array.from({length:this.rows},()=>Array(this.columns).fill(!1)),this.placeMines(),this.calculateAdjacentMines()}setDifficulty(t){switch(t){case"easy":this.rows=8,this.columns=8,this.minesCount=10;break;case"medium":this.rows=12,this.columns=12,this.minesCount=25;break;case"hard":this.rows=16,this.columns=16,this.minesCount=40;break}this.startNewGame()}placeMines(){let t=0;for(;t<this.minesCount;){let e=Math.floor(Math.random()*this.rows),n=Math.floor(Math.random()*this.columns);this.Board[e][n]===""&&(this.Board[e][n]="M",t++)}}calculateAdjacentMines(){let t=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]];for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++){if(this.Board[e][n]==="M")continue;let a=0;for(let[h,l]of t){let m=e+h,b=n+l;this.isInBounds(m,b)&&this.Board[m][b]==="M"&&a++}this.Board[e][n]=a.toString()}}isInBounds(t,e){return t>=0&&t<this.rows&&e>=0&&e<this.columns}revealCell(t,e){this.gameOver||this.gameWon||this.revealed[t][e]||(this.revealed[t][e]=!0,this.Board[t][e]==="M"?this.gameOver=!0:this.Board[t][e]==="0"&&this.revealAdjacentCells(t,e),this.checkWinCondition())}revealAdjacentCells(t,e){let n=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]];for(let[a,h]of n){let l=t+a,m=e+h;this.isInBounds(l,m)&&!this.revealed[l][m]&&this.revealCell(l,m)}}checkWinCondition(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)if(this.Board[t][e]!=="M"&&!this.revealed[t][e])return;this.gameWon=!0}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=w({type:i,selectors:[["app-minesweeper"]],decls:20,vars:2,consts:[[1,"minesweeper"],[1,"controls"],["type","radio","name","difficulty","id","easy","checked","",3,"change"],["for","easy"],["type","radio","name","difficulty","id","medium",3,"change"],["for","medium"],["type","radio","name","difficulty","id","hard",3,"change"],["for","hard"],[3,"click"],[1,"board"],[1,"row"],[1,"cell"],[3,"class"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"h2"),c(2,"Minesweeper"),r(),o(3,"div",1)(4,"input",2),u("change",function(){return n.setDifficulty("easy")}),r(),o(5,"label",3),c(6,"Easy"),r(),o(7,"input",4),u("change",function(){return n.setDifficulty("medium")}),r(),o(8,"label",5),c(9,"Medium"),r(),o(10,"input",6),u("change",function(){return n.setDifficulty("hard")}),r(),o(11,"label",7),c(12,"Hard"),r(),o(13,"button",8),u("click",function(){return n.startNewGame()}),c(14,"Restart"),r()(),f(15,k,2,0,"h3"),f(16,B,2,0,"h3"),o(17,"div",9),p(18,F,3,0,"div",10,g),r()()),e&2&&(d(15),_(n.gameOver?15:-1),d(),_(n.gameWon?16:-1),d(2),C(n.Board))},styles:["[_nghost-%COMP%]{display:block;background:#181a20;color:#e3e3e3;min-height:100vh;padding:2rem;font-family:Fira Sans,Segoe UI,sans-serif}.minesweeper[_ngcontent-%COMP%]{text-align:center}h2[_ngcontent-%COMP%]{color:#90caf9;font-size:2rem;margin-bottom:1.5rem;font-weight:700}h3[_ngcontent-%COMP%]{color:#3da1f3;font-size:1.6rem;margin-bottom:0rem;font-weight:700}.controls[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1.2rem;margin-bottom:1.5rem}.controls[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{accent-color:#1976d2}.controls[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#e3e3e3;font-size:1rem;margin-right:.5rem}.controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#1976d2;color:#fff;border:none;border-radius:8px;padding:.5rem 1.5rem;font-size:1rem;font-weight:600;cursor:pointer;transition:background .2s}.controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#90caf9;color:#23272f}.board[_ngcontent-%COMP%]{display:inline-block;background:#23272f;border-radius:12px;box-shadow:0 2px 12px #1976d226;padding:1rem;margin-top:20px}.row[_ngcontent-%COMP%]{display:flex}.cell[_ngcontent-%COMP%]{width:40px;height:40px;border:2px solid #1976d2;background:#181a20;border-radius:6px;display:flex;align-items:center;justify-content:center;transition:background .2s,border .2s}.cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:100%;background:#333;border:none;border-radius:6px;cursor:pointer;transition:background .2s}.cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#1976d2}.revealed[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:1.1rem;border-radius:6px}.content-0[_ngcontent-%COMP%]{background:#23272f;color:#b0bec5}.content-1[_ngcontent-%COMP%]{color:#1976d2}.content-2[_ngcontent-%COMP%]{color:#43a047}.content-3[_ngcontent-%COMP%]{color:#e53935}.content-4[_ngcontent-%COMP%]{color:#1e88e5}.content-5[_ngcontent-%COMP%]{color:#8d6e63}.content-6[_ngcontent-%COMP%]{color:#00bcd4}.content-7[_ngcontent-%COMP%]{color:#212121}.content-8[_ngcontent-%COMP%]{color:#757575}"]})};export{P as Minesweeper};
