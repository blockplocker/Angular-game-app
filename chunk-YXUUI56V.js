import{a as h}from"./chunk-OVSNC6OT.js";import{a as N,c as k,d as T,f as B,h as P,i as O,r as j}from"./chunk-K3AN35LB.js";import{d as I}from"./chunk-KOPJTHIW.js";import{$a as C,Ba as v,M as y,R as p,Sa as f,Ta as w,Ya as _,Za as n,_a as t,gb as d,ib as x,qa as b,rb as i,sb as E,ta as a,tb as c,ub as u,vb as S,wb as D,xb as W,zb as M}from"./chunk-YHEZIFCV.js";var g=class o{http=p(I);getWeatherByCoordinates(r,e){let s=`${h.weatherApiUrl}?lat=${r}&lon=${e}&units=metric&lang=en&appid=${h.weatherApiKey}`;return this.http.get(s)}getWeather(r){return this.http.get(`${h.weatherApiUrl}`,{params:{q:r,appid:h.weatherApiKey,units:"metric",lang:"en"}})}static \u0275fac=function(e){return new(e||o)};static \u0275prov=y({token:o,factory:o.\u0275fac,providedIn:"root"})};function F(o,r){if(o&1&&(n(0,"div",10),i(1),t()),o&2){let e=x();a(),E(e.errorMessage)}}function U(o,r){if(o&1&&(n(0,"div",1)(1,"div",2)(2,"div",14)(3,"div",15)(4,"h5",16),i(5),t(),C(6,"img",17),n(7,"p",18)(8,"strong"),i(9,"Temperature:"),t(),i(10),t(),n(11,"p",18)(12,"strong"),i(13,"Min:"),t(),i(14),n(15,"strong"),i(16,"Max:"),t(),i(17),t(),n(18,"p",18)(19,"strong"),i(20,"Humidity:"),t(),i(21),t(),n(22,"p",18)(23,"strong"),i(24,"Wind:"),t(),i(25),t(),n(26,"p",18)(27,"strong"),i(28,"Clouds:"),t(),i(29),t(),n(30,"p",18)(31,"strong"),i(32,"Conditions:"),t(),i(33),t()()()()()),o&2){let e=x();a(5),u("Weather in ",e.weatherData.name,", ",e.weatherData.sys.country),a(),_("src",M("https://openweathermap.org/img/wn/",e.weatherData.weather[0].icon,"@2x.png"),b),a(4),u(" ",e.weatherData.main.temp,"\xB0C (feels like ",e.weatherData.main.feels_like,"\xB0C)"),a(4),c(" ",e.weatherData.main.temp_min,"\xB0C "),a(3),c(" ",e.weatherData.main.temp_max,"\xB0C"),a(4),c(" ",e.weatherData.main.humidity,"%"),a(4),c(" ",e.weatherData.wind.speed," m/s"),a(4),c(" ",e.weatherData.clouds.all,"%"),a(4),u(" ",e.weatherData.weather[0].main," - ",e.weatherData.weather[0].description)}}var A=class o{weatherService=p(g);cityName="";errorMessage="";weatherData=null;getweather(){this.cityName.trim().length>0?this.weatherService.getWeather(this.cityName.trim()).subscribe({next:r=>{this.weatherData=r},error:r=>{this.errorMessage="Error fetching weather data.",this.weatherData=null}}):this.errorMessage="Please enter a city name."}getcurrentlocation(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(r=>{let{latitude:e,longitude:l}=r.coords;this.weatherService.getWeatherByCoordinates(e,l).subscribe({next:m=>{this.weatherData=m},error:m=>{this.errorMessage="Error fetching weather data.",this.weatherData=null}})})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=v({type:o,selectors:[["app-weather"]],decls:19,vars:3,consts:[[1,"container","py-4"],[1,"row","justify-content-center"],[1,"col-md-6","col-lg-5"],[1,"card","shadow","mb-4"],[1,"card-body"],[3,"submit"],[1,"text-center"],[1,"mb-3"],["for","cityName",1,"form-label","fw-bold"],["type","text","name","cityName","placeholder","Enter city name",1,"form-control",3,"ngModelChange","keyup.enter","ngModel"],[1,"alert","alert-danger","py-2"],[1,"d-flex","gap-2"],["type","button",1,"btn","btn-outline-primary","flex-fill","fw-bold",3,"click"],["type","button",1,"btn","btn-outline-info","flex-fill","fw-bold",3,"click"],[1,"card","shadow"],[1,"card-body","text-center"],[1,"card-title","mb-3"],["alt","Weather icon",1,"mb-3",2,"width","80px","height","80px",3,"src"],[1,"mb-2"]],template:function(e,l){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"form",5),d("submit",function(s){return s.preventDefault(),l.getweather()}),n(6,"h3",6),i(7,"Weather Search"),t(),n(8,"div",7)(9,"label",8),i(10,"City Name:"),t(),n(11,"input",9),W("ngModelChange",function(s){return D(l.cityName,s)||(l.cityName=s),s}),d("keyup.enter",function(){return l.getweather()}),t()(),f(12,F,2,1,"div",10),n(13,"div",11)(14,"button",12),d("click",function(){return l.getweather()}),i(15,"Search by City"),t(),n(16,"button",13),d("click",function(){return l.getcurrentlocation()}),i(17,"My Weather"),t()()()()()()(),f(18,U,34,13,"div",1),t()),e&2&&(a(11),S("ngModel",l.cityName),a(),w(l.errorMessage.length>0?12:-1),a(6),w(l.weatherData?18:-1))},dependencies:[j,O,N,k,T,P,B],styles:["[_nghost-%COMP%]{flex-grow:1}strong[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{color:#2196f3}"]})};export{A as Weather};
