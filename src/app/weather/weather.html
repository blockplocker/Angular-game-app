
<div class="container py-4">
    <div class="row justify-content-center">
        <div class="col-md-6 col-lg-5">
            <div class="card shadow mb-4 ">
                <div class="card-body">
                    <form (submit)="$event.preventDefault(); getweather();">
                        <h3 class="text-center">Weather Search</h3>
                        <div class="mb-3">
                            <label for="cityName" class="form-label fw-bold">City Name:</label>
                            <input type="text" [(ngModel)]="cityName" name="cityName" class="form-control" placeholder="Enter city name" (keyup.enter)="getweather()" />
                        </div>
                        @if (errorMessage.length > 0) {
                            <div class="alert alert-danger py-2">{{ errorMessage }}</div>
                        }
                        <div class="d-flex gap-2">
                            <button type="button" (click)="getweather()" class="btn btn-outline-primary flex-fill fw-bold">Search by City</button>
                            <button type="button" (click)="getcurrentlocation()" class="btn btn-outline-info flex-fill fw-bold">My Weather</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    @if (weatherData) {
        <div class="row justify-content-center">
            <div class="col-md-6 col-lg-5">
                <div class="card shadow ">
                    <div class="card-body text-center">
                        <h5 class="card-title mb-3">Weather in {{ weatherData.name }}, {{ weatherData.sys.country }}</h5>
                        <img src="https://openweathermap.org/img/wn/{{ weatherData.weather[0].icon }}@2x.png" alt="Weather icon" class="mb-3" style="width:80px;height:80px;" />
                        <p class="mb-2"><strong>Temperature:</strong> {{ weatherData.main.temp }}째C (feels like {{ weatherData.main.feels_like }}째C)</p>
                        <p class="mb-2"><strong>Min:</strong> {{ weatherData.main.temp_min }}째C <strong>Max:</strong> {{ weatherData.main.temp_max }}째C</p>
                        <p class="mb-2"><strong>Humidity:</strong> {{ weatherData.main.humidity }}%</p>
                        <p class="mb-2"><strong>Wind:</strong> {{ weatherData.wind.speed }} m/s</p>
                        <p class="mb-2"><strong>Clouds:</strong> {{ weatherData.clouds.all }}%</p>
                        <p class="mb-2"><strong>Conditions:</strong> {{ weatherData.weather[0].main }} - {{ weatherData.weather[0].description }}</p>
                    </div>
                </div>
            </div>
        </div>
    }
</div>