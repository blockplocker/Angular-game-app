import{a as U}from"./chunk-IXAVHXNI.js";import{a as G,c as J,h as K,r as Q}from"./chunk-6RICAKNY.js";import{Ab as B,Ba as g,Da as D,Ea as F,Fb as q,Hb as R,Ib as f,M as k,R as m,Ra as N,Sa as L,Va as z,W as I,Wa as j,X as E,Xa as p,Ya as n,Za as r,a as v,b as O,cb as A,da as y,eb as c,gb as W,ja as S,mb as s,nb as H,qb as b,rb as M,sb as w,ta as a,ub as P,w as x,yb as V}from"./chunk-WWA5CXJE.js";var u=class i{http=m(U);getTodosFromApi(){return this.http.get("https://jsonplaceholder.typicode.com/todos")}static \u0275fac=function(e){return new(e||i)};static \u0275prov=k({token:i,factory:i.\u0275fac,providedIn:"root"})};var h=class i{isCompleted=f(!1);el=m(S);stylesEffect=q(()=>{this.isCompleted()?this.el.nativeElement.classList.add("completed"):this.el.nativeElement.classList.remove("completed")});static \u0275fac=function(e){return new(e||i)};static \u0275dir=D({type:i,selectors:[["","appHighlightCompletedTodo",""]],inputs:{isCompleted:[1,"isCompleted"]}})};var _=class i{todo=f.required();todotoggled=R();todoclicked(){this.todotoggled.emit(this.todo())}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=g({type:i,selectors:[["app-todo-item"]],inputs:{todo:[1,"todo"]},outputs:{todotoggled:"todotoggled"},decls:4,vars:7,consts:[["appHighlightCompletedTodo","",3,"isCompleted"],["type","checkbox",3,"change","id","checked"],[3,"for"]],template:function(e,o){e&1&&(n(0,"li",0)(1,"input",1),c("change",function(){return o.todoclicked()}),r(),n(2,"label",2),s(3),r()()),e&2&&(p("isCompleted",o.todo().completed),a(),p("id",P("todo-",o.todo().id))("checked",o.todo().completed),a(),p("for",P("todo-",o.todo().id)),a(),H(o.todo().title))},dependencies:[h],styles:["li[_ngcontent-%COMP%]{display:flex;align-items:center;background:#23272f;color:#e3e3e3;border-radius:10px;box-shadow:0 2px 8px #1976d21a;padding:0;font-size:1.1rem;transition:background .2s,color .2s;position:relative}li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;cursor:pointer;padding:1rem 1.5rem;margin:0;z-index:1}li[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{accent-color:#1976d2;margin-right:1rem;width:1.2rem;height:1.2rem;z-index:2}li.completed[_ngcontent-%COMP%]{background:#263238;color:#90caf9;text-decoration:line-through}input[_ngcontent-%COMP%]{accent-color:#1976d2;margin:1rem;width:1.2rem;height:1.2rem}label[_ngcontent-%COMP%]{cursor:pointer;font-weight:500;color:inherit}"]})};var C=class i{transform(t,e){return e?t.filter(o=>o.title.toLowerCase().includes(e.toLowerCase())):t}static \u0275fac=function(e){return new(e||i)};static \u0275pipe=F({name:"filterTodos",type:i,pure:!0})};var Z=(i,t)=>t.id;function $(i,t){i&1&&(n(0,"p"),s(1,"Loading..."),r())}function ee(i,t){if(i&1){let e=A();n(0,"app-todo-item",4),c("todotoggled",function(l){I(e);let d=W();return E(d.updateTodoItem(l))}),r()}if(i&2){let e=t.$implicit;p("todo",e)}}var X=class i{todoservice=m(u);todoitems=y([]);searchTerm=y("");newTodoTitle="";ngOnInit(){this.todoservice.getTodosFromApi().pipe(x(t=>{throw console.error(t),t})).subscribe(t=>{this.todoitems.set(t)})}addTodoItem(){if(this.newTodoTitle.trim()){let t={id:Date.now(),userId:1,title:this.newTodoTitle,completed:!1};this.todoitems.update(e=>[t,...e]),this.newTodoTitle=""}}clearCompleted(){this.todoitems.update(t=>t.filter(e=>!e.completed))}updateTodoItem(t){this.todoitems.update(e=>e.map(o=>o.id===t.id?O(v({},o),{completed:!o.completed}):o))}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=g({type:i,selectors:[["app-todos"]],decls:14,vars:6,consts:[["name","searchTerm","type","text","placeholder","search todos...",3,"ngModelChange","ngModel"],["type","text","placeholder","add New Todo",3,"ngModelChange","ngModel"],[3,"click"],[3,"todo"],[3,"todotoggled","todo"]],template:function(e,o){e&1&&(n(0,"h3"),s(1,"Todo List from api"),r(),N(2,$,2,0,"p"),n(3,"section")(4,"input",0),w("ngModelChange",function(d){return M(o.searchTerm,d)||(o.searchTerm=d),d}),r(),n(5,"input",1),w("ngModelChange",function(d){return M(o.newTodoTitle,d)||(o.newTodoTitle=d),d}),r(),n(6,"button",2),c("click",function(){return o.addTodoItem()}),s(7,"Add Todo"),r(),n(8,"button",2),c("click",function(){return o.clearCompleted()}),s(9,"Clear Completed"),r()(),n(10,"ul"),z(11,ee,1,1,"app-todo-item",3,Z),V(13,"filterTodos"),r()),e&2&&(a(2),L(o.todoitems().length?-1:2),a(2),b("ngModel",o.searchTerm),a(),b("ngModel",o.newTodoTitle),a(6),j(B(13,3,o.todoitems(),o.searchTerm())))},dependencies:[_,Q,G,J,K,C],styles:["[_nghost-%COMP%]{display:block;background:#181a20;color:#e3e3e3;min-height:100vh;padding:2rem;font-family:Fira Sans,Segoe UI,sans-serif}h3[_ngcontent-%COMP%]{color:#90caf9;font-size:2rem;margin-bottom:1.5rem;font-weight:700}.loading[_ngcontent-%COMP%]{color:#ffb74d;font-size:1.2rem;text-align:center;margin:2rem 0}ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:.5rem}section[_ngcontent-%COMP%]{display:flex;gap:.7rem;align-items:center;margin-bottom:1.2rem}section[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:8px;border:1px solid #333;background:#23272f;color:#fff;font-size:1rem;outline:none;transition:border .2s;min-width:180px}section[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{border-color:#1976d2}section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#1976d2;color:#fff;border:none;border-radius:6px;padding:.5rem 1rem;font-size:1rem;cursor:pointer;transition:background .2s}section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#90caf9;color:#23272f}"]})};export{X as Todos};
