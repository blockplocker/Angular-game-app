import{$a as a,Aa as P,Qa as v,Ra as E,Ta as _,Ua as h,V as b,Va as C,W as g,_a as c,ab as x,cb as y,db as l,eb as k,fb as F,gb as M,ib as O,jb as f,lb as R,rb as B,sa as u,tb as w}from"./chunk-6VOJG6RP.js";var S=["boardRef"],T=()=>[0,1,2,3,4,5],V=()=>[0,1,2,3,4,5,6];function z(n,t){if(n&1){let e=x();c(0,"div",4),y("click",function(){let r=b(e).$implicit,m=l(2);return g(m.placePiece(r))}),a()}if(n&2){let e=t.$implicit,i=l().$implicit,r=l();O(B("cf-cell ",r.board[i][e]))}}function A(n,t){n&1&&(c(0,"div",2),h(1,z,1,3,"div",3,_),a()),n&2&&(u(),C(w(0,V)))}function L(n,t){if(n&1){let e=x();c(0,"h3",5),f(1),a(),c(2,"button",4),y("click",function(){b(e);let r=l();return g(r.resetGame())}),f(3,"Reset Game"),a()}if(n&2){let e=l();u(),R("",e.winner," wins!")}}var I=class n{board=[];currentPlayer="red";winner=null;boardElement;constructor(){this.initializeBoard()}initializeBoard(){this.board=Array.from({length:6},()=>Array(7).fill(null))}resetGame(){this.initializeBoard(),this.winner=null,this.currentPlayer="red",this.changeClass()}switchPlayer(){this.currentPlayer=this.currentPlayer==="red"?"blue":"red",this.changeClass()}changeClass(){let t=this.boardElement.nativeElement;t.classList.remove("player-red","player-blue"),t.classList.add(`player-${this.currentPlayer}`)}placePiece(t){if(this.winner)return;let e=this.getAvailableRow(t);e!==null&&(this.board[e][t]=this.currentPlayer,this.checkForWin(e,t),this.switchPlayer())}isInBounds(t,e){return t>=0&&t<6&&e>=0&&e<7}declareWinner(){this.winner=this.currentPlayer}getAvailableRow(t){for(let e=5;e>=0;e--)if(this.board[e][t]===null)return e;return null}checkForWin(t,e){let i=[{x:1,y:0},{x:0,y:1},{x:1,y:1},{x:1,y:-1}];for(let{x:r,y:m}of i){let p=1;for(let o=1;o<4;o++){let s=t+o*m,d=e+o*r;if(this.isInBounds(s,d)&&this.board[s][d]===this.currentPlayer)p++;else break}for(let o=1;o<4;o++){let s=t-o*m,d=e-o*r;if(this.isInBounds(s,d)&&this.board[s][d]===this.currentPlayer)p++;else break}if(p>=4){this.declareWinner();return}}}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=P({type:n,selectors:[["app-connect-four"]],viewQuery:function(e,i){if(e&1&&k(S,5),e&2){let r;F(r=M())&&(i.boardElement=r.first)}},decls:7,vars:2,consts:[["boardRef",""],[1,"connect-four-board","player-red"],[1,"cf-row"],[3,"class"],[3,"click"],[1,"winner-message"]],template:function(e,i){e&1&&(c(0,"h2"),f(1,"Connect Four"),a(),c(2,"div",1,0),h(4,A,3,1,"div",2,_),v(6,L,4,1),a()),e&2&&(u(4),C(w(1,T)),u(2),E(i.winner?6:-1))},styles:["[_nghost-%COMP%]{display:block;background:#181a20;color:#e3e3e3;min-height:100vh;padding:2rem;font-family:Fira Sans,Segoe UI,sans-serif}h2[_ngcontent-%COMP%]{color:#90caf9;text-align:center;font-size:2rem;margin-bottom:2rem}.connect-four-board[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background:#23272f;border-radius:18px;box-shadow:0 4px 16px #1976d226;padding:2rem 1rem;gap:.5rem;width:fit-content;margin:0 auto}.cf-row[_ngcontent-%COMP%]{display:flex;gap:.5rem}.cf-cell[_ngcontent-%COMP%]{width:48px;height:48px;background:#181a20;border:2.5px solid #1976d2;border-radius:50%;box-shadow:0 2px 8px #1976d21a;display:flex;align-items:center;justify-content:center;transition:background .2s,border .2s}.cf-cell[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.2);transition:transform .2s}.player-red[_ngcontent-%COMP%]   .cf-row[_ngcontent-%COMP%]   .cf-cell[_ngcontent-%COMP%]:hover{background:red}.player-blue[_ngcontent-%COMP%]   .cf-row[_ngcontent-%COMP%]   .cf-cell[_ngcontent-%COMP%]:hover{background:#0080ff;border-color:#1b2eff}.red[_ngcontent-%COMP%]{background:#ff4d4d}.blue[_ngcontent-%COMP%]{background:#42a5f5}button[_ngcontent-%COMP%]{background:#1976d2;color:#fff;border:none;border-radius:8px;padding:.7rem 2rem;font-size:1.1rem;font-weight:600;cursor:pointer;box-shadow:0 2px 8px #1976d21a;transition:background .2s}button[_ngcontent-%COMP%]:hover{background:#90caf9;color:#23272f}.winner-message[_ngcontent-%COMP%]{color:#90caf9;text-align:center;font-size:1.5rem;margin-bottom:2rem}"]})};export{I as ConnectFour};
